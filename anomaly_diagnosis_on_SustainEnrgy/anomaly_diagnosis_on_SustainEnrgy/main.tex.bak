\documentclass[journal]{IEEEtran}
\usepackage[a4paper,margin=1in]{geometry}
\usepackage{verbatim, xspace, algorithm, algorithmic, units, graphicx, amssymb,amsmath, vmargin, url, setspace, bbm, array, multirow}
\usepackage[normalem]{ulem}

%\theoremstyle{plain} \newtheorem{theorem}{Theorem}[section]
%\theoremstyle{definition} \newdefinition{definition}{Definition}[section]
%\journal{Nuclear Physics B}
%used in appendix
%\theoremstyle{plain} \newtheorem{thm}{Theorem}
%\theoremstyle{definition} \newdefinition{defntn}{Definition}
%\theoremstyle{plain} \newproof{Proof}{Proof}


\newcommand{\etal}{et al.\@\xspace}

\begin{document}
%\begin{frontmatter}
\title{Derive Customer Privacy from Randomly Perturbed Smart Metering Data}
\begin{comment}
\author[tj]{Yingying Zhao}
\author[tj]{Dongsheng Li}
\author[cu]{Qin Lv}
\author[tj,cu]{Li Shang}

\address[tj]{Tongji University, Shanghai  201804 P.R.China}
\address[cu]{University of Colorado Boulder, Boulder, CO 80309 USA}
\end{comment}

\author{Yingying Zhao$^\dag$, Dongsheng Li$^\dag$, Qin Lv$^\S$, Li Shang$^\dag, ^\S$\\
  $^\dag$ Tongji University, Shanghai 201804 P.R.China \\
  $^\S$ University of Colorado Boulder, Boulder CO 80309 USA
}

\maketitle
%\cortext[cor1]{Corresponding Author: Dongsheng Li, Email: dongshengli@tongji.edu.cn.}

\begin{abstract}
%% Text of abstract
Smart meters, which is one of the most important components in smart
grids, pose severe privacy concerns for customers due to the collection
of fine-grained real-time power consumption data. To this end, various kinds
of privacy-preserving smart metering methods have been proposed, %in the literature.
among which randomized perturbation (RP) is one of the commonly
adopted techniques. RP-based privacy-preserving smart metering methods
add random noises on customer data to protect customer privacy,
but statistical information of individual customers can still be accurately
obtained from these data as demonstrated in our studies. In this paper, we analyze
the privacy protection capability of RP-based privacy-preserving smart metering
methods by both theoretical analysis and empirical studies. Meanwhile, an
appliance usage inference
method is proposed to accurately identify appliance operations of individual
customers based on randomly perturbed smart metering data.
Evaluation results on real-world smart metering data demonstrate that
the proposed method can identify appliance operations with accuracies
between 92\% and 99\%.
\end{abstract}

%\begin{keyword}
%smart metering, randomized perturbation, privacy
%\end{keyword}
%\end{frontmatter}


\section{Introduction}
%During recent years, the deployment of smart grids has been promoted
%by governments all over the world to achieve energy conservation.
In existing smart grid infrastructures, the smart meters are one of
the key components, which can collect real-time fine-grained power
consumption data of individual customers. Based on fine-grained
smart metering data, utility provider can monitor the aggregated load
of customers in a district in realtime, so as to make a better balance
between power generation and demand. However, those fine-grained smart meter
readings will disclose detailed personal information of customers to
utility provider as shown by recent studies~\cite{khurana2010smart, mcdaniel2009security}.
For instance, the utility provider can easily infer whether a house
is inhabited or not, when a person gets up in the morning, etc.,
from their real-time power consumption data~\cite{Garcia11}. Meanwhile,
complex appliance usage patterns, e.g., sleeping routines and eating
routines, can also be identified by simple off-the-shelf clustering
and pattern recognition techniques~\cite{molina2010private}. In addition,
even the appliance operations (e.g, turning on or off a TV set) can be monitored
through Nonintrusive Appliance Load Monitor (NALM)~\cite{zeifman2011nonintrusive}.
Based on the above information, third parties can easily infer
a variety of personal activities, conduct commercial surveys, or even
perform criminal attacks. As a result, privacy issue has become one of
the major stumbling blocks for the massive deployment of smart meters
in some countries and regions~\cite{cuijpers2009no}.

Recently, privacy-preserving smart metering methods have been proposed,
in which randomized perturbation (RP) methods are one of the commonly
adopted techniques~\cite{overview13,ren2013scaling,wang2012randomized,ren13lightweight,acs11}.
In RP-based privacy-preserving smart metering methods, random noises are added
to real meter readings before sending to the utility provider, so that true
power consumption data of customers cannot be collected by the utility
provider in realtime. However, according to Central Limit Theorem, aggregated statistics
(e.g., the aggregated load of customers in a district at certain time)
can still be precisely computed, because the noises of different customers are neutralized during
the aggregation of large-scale meter readings. In this way, customer
privacy can be protected to some extent, because these randomized customer data
are hard to recover.
%% ----------------------------------------------------------------------------------
However, besides aggregated statistical information of customers in a district,
our studies show that utility provider can infer customer privacy from randomly
perturbed smart metering data.
For instance, the utility provider can record the randomized transient loads of an
individual household at certain time (e.g., 9 a.m.) during a period of
time (e.g., 1 month), and then compute the mean load of the household at that
time. Then, utility provider can infer customer behavior at the time, e.g.,
whether the customers in a house have breakfast around 9 a.m. or not.
Although the uncertainty that the noises introduced will cause the mean
statistics to be inaccurate, but according to the Law of Big Number,
the statistics can be approximate to actual values if utility provider
obtains long-term monitoring data. Based on such kinds of statistical information
of individual customers, detailed appliance usage information, e.g., turning on or
off an air conditioner, etc., can be accurately identified as demonstrated
in later sections. Thus, we claim that randomized perturbation
based privacy-preserving smart metering methods cannot provide strong privacy
guarantee, because customer privacy can be potentially inferred by mining from
randomly perturbed smart metering data.


In this paper, we first analyze the statistical information revelation
issue of RP-based privacy-preserving smart metering methods, and prove that
customer privacy has to be traded if the utility provider needs to accurately
compute the aggregated load of customers in a district. Theoretical analysis
suggests that privacy protection capabilities of RP-based methods are limited
when the accuracy of data aggregation meets industrial standard. A case study
is presented to demonstrate that it is possible to infer customer privacy
using statistical information from randomly perturbed smart meter readings.
%% Part 2
Further, a generic appliance usage inference method is proposed
to recognize the appliance operating state from short-term meter readings
(i.e., 4 samples in an hour). In the proposed method, randomized energy
consumption data and auxiliary information (e.g., weather conditions)
are combined by a Bayesian network model to enhance the performance of
appliance usage inferences. Evaluation results on real-world smart metering
data demonstrate that the proposed inference method can accurately
identify appliance operations and RP-based privacy-preserving smart metering
methods indeed reveal statistical information of individual customers.
To the best of our knowledge, this is the first work identifying
and analyzing the privacy leakage problem in RP-based privacy-preserving
smart metering methods. In summary, our key contributions are as follows:
\begin{enumerate}[1.]
    \item The privacy leakage issues of randomized perturbation based privacy-preserving
    smart metering methods have been firstly analyzed.
    Our studies show that personalized statistical information,
    which can be adopted to infer realtime appliance usage information of customers,
    are revealed by RP-based privacy-preserving smart metering methods.
    \item An attack method is proposed to identify appliance operating status
    against RP-based smart metering methods, in which Bayesian network is
    adopted to combine randomized smart meter readings and auxiliary information
    to achieve accurate inference.% of appliance operation.
    \item The proposed method is evaluated using real-world smart metering data,
    and experimental results demonstrate that the proposed inference method can
    accurately infer appliance status with accuracies between 92\% and 99\%.
    The results also indicate that RP-based privacy-preserving
    smart metering methods indeed reveal personalized statistical information.
\end{enumerate}

The rest of this paper is organized as follows.
Section~\ref{sctn:related} summarizes the related work.
Section~\ref{sctn:RPM} analyzes randomized perturbation based privacy-preserving
smart metering methods by both theoretical analysis and empirical studies.
In Section~\ref{sec:model}, we present the Bayesian Network based
appliance usage inference method in detail. Experimental results are presented
in Section~\ref{sctn:Expmnt}. Finally, we conclude this work in Section~\ref{sctn:cnclusn}.


\section{Related Work}
\label{sctn:related}

%To address the privacy issues of smart metering,
%amounts of research effects have been conducted in recent years.
Existing works toward privacy-preserving smart metering can be
classified into three main categories~\cite{overview13}:
anonymity-based methods~\cite{efthymiou2010smart,petrlic2010privacy},
cryptography-based methods~\cite{Garcia11,rial2011privacy},
and randomized perturbation-based methods~\cite{bohli2010privacy,ren2013scaling,wang2012randomized}.
Generally, anonymity-based methods require complex anonymous communication
protocols~\cite{efthymiou2010smart,petrlic2010privacy}, which are hard
to be deployed by customers. Cryptography-based methods do not rely on
complex protocols, but computation-intensive encryptions and decryptions
are not efficient when facing with large-scale customers in smart girds~\cite{Garcia11,rial2011privacy}.
Randomized perturbation (RP) based methods, which are efficient and
easy to implement compared with the other two kinds of methods, have
become one of the popular privacy-preserving smart metering solutions.
Bohli~\etal~\cite{bohli2010privacy} added Gaussian noises (with mean equal to 0)
to each actual meter reading, so that the aggregated power consumption of a
larger number of customers can be more accurate than predefined
confidence interval.
%%D = R + R*X
X. Ren~\etal~\cite{ren2013scaling} proposed a scaling perturbation based
privacy-preserving smart metering scheme, in which the random noises are
the product of uniformly random numbers and the real meter readings.
Besides load monitoring, billing can also be supported in their method.
%%D = R + X_1 + X_2
W. Ren~\etal~\cite{ren13lightweight} proposed three light-weight schemes
for privacy-preserving smart metering based on randomized perturbation:
random perturbation scheme (RPS), random walk scheme (RWS), and distance-bounded
random walk with perturbation scheme (DBS). They evaluated and compared
the three schemes, and their results showed that the three schemes are
lightweight in terms of computation without relying on cryptography.
Wang~\etal~\cite{wang2012randomized} proposed a randomized response model,
in which users report their true meter readings with a predefined probability
and the total power consumption of a region can be inferred without
compromising the privacy of individual customers.
\'{A}cs~\etal~\cite{acs11} proposed a new privacy-preserving smart metering
system under the differential privacy model, in which random noises with
differential privacy guarantee are added to customer data before sending to
the utility provider. Differential privacy model guarantees that the true
customer data are extremely hard to recover, but statistical information, e.g.,
the mean power at certain time, still cannot be protected as the above methods.
Overall, in these RP-based privacy-preserving smart metering methods,
the utility provider cannot know the real-time power consumption data of individual customers,
but can calculate the aggregated power consumption of customers in a region accurately.
However, the protection of statistical information of individual customers are not
considered by these RP-based methods, in which customer privacy can be
inferred by mining from these information as demonstrated in this work.

Inferring customer privacy from smart metering data has been widely studied,
in which Nonintrusive Appliance Load Monitor (NALM)~\cite{zoha2012non}
is one of the typical techniques. In NALM, the aggregated power signal
is decomposed into appliance specific power signals, so that the appliance
operations can be recognized from the aggregated load measurements.
Hart~\cite{hart1992nonintrusive} proposed a method relies on both real power
and reactive power, which can estimate individual power consumption of appliances
by analyzing of the current and voltage waveforms of the total load.
But Zeifman~\etal~\cite{zeifman2011nonintrusive} pointed out that the data
acquisition system required for reactive power measurement is costly, so that
solely real power based NALM solutions should be developed.
Powers~\etal~\cite{powers1991using} proposed a rule-based algorithm to
disaggregate only relatively large loads (i.e., stove or air conditioner)
from sparsely sampled data (e.g., every 15 min).
Similarly, Farinaccio~\etal~\cite{farinaccio1999using} proposed
a pattern recognition approach to monitoring the load of individual
appliance. In their method, the peak value, steady value and
steady time are regarded as appliance features or signatures.
The appliance usage inference method proposed in this paper is different
from the above NALM methods in the following aspects: 1) the proposed inference method
targets at the randomly perturbed smart meter readings, the scenario of which
has not been considered before to the best of our knowledge;
and 2) the goal of the proposed method is to infer the operations of specified
appliance rather than disaggregating the power signal of individual appliance.

\section{Analysis of Randomized Perturbation Method}
\label{sctn:RPM}
In this section, we first introduce  existing RP-based privacy-preserving
smart metering methods. Then, the tradeoff between data aggregation accuracy and
privacy protection are analyzed theoretically. At last, a case study is presented
to show that RP-based privacy preserving smart metering methods fail to protect
the statistical information of individual customers when the accuracy of load
monitoring meets industrial standard, which indicates that RP-based methods
indeed reveal customer privacy.


\subsection{Randomized Perturbation Method}
In smart grid, the utility provider needs to know the total power consumption
of a set of customers from the set of smart meters $S = \{s^{(1)}, \dots, s^{(n)}\}$
in a given district for load monitoring.
Each meter $s^{(i)} \in S$ reports its meter reading $r_{t}^{(i)}$ at time $t$,
then the aggregated consumption at time $t$ can be computed as $\sum_{i=1}^{n}r_{t}^{(i)}$.
In this work, the computation of $\sum_{i=1}^{n}r_{t}^{(i)}$ is referred to
as ``data aggregation'' among customers in a given district.
To assess the total consumption, RP-based methods regard the problem
as a model parameter learning problem with the assumption that all meter
readings at time $t$ are observations of a normal distribution
that has mean $\mu_t$ and positive variance $\sigma_t^2$.
Thus, $\sum_{i=1}^{n}r_{t}^{(i)}$ has the following property:
\begin{equation}
\label{eqn:sum}
\sum_{i=1}^{n}r_{t}^{(i)} \approx \sum_{i=1}^{n}\hat{\mu_t},
\end{equation}
where $\hat{\mu_t}$ is the estimation of $\mu_t$.

Next, we discuss the two main categories of current RP methods:
Linear-model-based RP (LRP) methods and Mixture-model-based RP (MRP) methods,
and analyze the two kinds of methods in detail.

\subsubsection{Linear-Model-based RP (LRP) Methods}
From a statistical point of view, a linear model represents a set of
independent random variables $X=\{X^{(1)},\dots,X^{(n)}\}$ compose an observed
variable $Y$ by a linear relationship. Based on this idea, LRP methods
generally have the following form:
\begin{equation}
\label{eqn:linearity}
d_t = r_t + X_t^{(i)},
\end{equation}
where the random variables $r_t, d_t$ denote the real meter reading
and the randomly perturbed reading, respectively, at time $t$.
$X^{(i)}$ represents the random noises with zero mean (i.e., $\mu_{X^{(i)}} =0$) added by customer $i$.
For instance, the method proposed by Bohli~\etal~\cite{bohli2010privacy}
is a typical example of LRP methods, in which their $X$ follows
Gaussian distribution.

With respect to the estimation of $\mu_{t}$,
a commonly-used estimator is the maximum likelihood (ML) estimator\cite{hastie2009elements},
which selects the value of $\mu_t$ to provide the largest probability of
the set of perturbed meter readings $\mathcal{D}_t = \{d_{t}^{(1)},\dots,d_{t}^{(n)}\}$.
Maximum likelihood can be computed as follows:
\begin{equation}
\label{eqn:ml}
L(\mu_t;\mathcal{D}_t) = f(d_{t}^{(1)};\mu_t) \cdots f(d_{t}^{(n)};\mu_t)
\end{equation}
where $f(d;\mu_t)$ is the probability density function of $d$.
Based on Equation~\ref{eqn:ml}, the estimation of $\mu_{t}$ can be
computed as follows:
\begin{equation}
\hat{\mu_t} = \arg \max_{\mu_t} L(\mu_t;\mathcal{D}_t).
\end{equation}



\subsubsection{Mixture-Model-based RP (MRP) Methods}
Different from LRP methods, the probabilistic distributions of subpopulation
are mixed for MRP methods. The method proposed by Wang~\etal~\cite{wang2012randomized}
is a typical example of MRP, in which noises follow the Gaussian
Mixture Model (GMM) are adopted to perturb true meter readings.
In general, the basic idea of MRP can be described as follows:
\begin{equation}
\label{eqn:mixture}
p(x) = \omega_{0}N(\mu_t, \sigma_t^2) + \omega_{1}N(\mu_{t_1}, \sigma_{t_1}^2) + \omega_{2}N(\mu_{t_2}, \sigma_{t_2}^2)
\end{equation}
where $N(\mu_t, \sigma_t^2)$ is the Gaussian distribution of actual
smart meter readings, and $N( \mu_{t_1}, \sigma_{t_1}^2 )$ and
$N(\mu_{t_2}, \sigma_{t_2}^2)$ denote two noises introduced to
perturb the actual smart meter readings. The weights $\omega_0$,
$\omega_1$, and $\omega_2$ are the probabilities that the corresponding
components appear, i.e., true meter readings are reported to the utility
provider with probability of $\omega_0$ and the two noises are reported
with probabilities of $\omega_1$ and $\omega_2$, respectively.

To estimate parameters in mixture models, Expectation Maximization (EM)
is one of the most popular techniques. EM works by iteratively performing
two steps: expectation step (E-step) and maximization step (M-step).
In E-step, the conditional expectation is computed. Then in M-step,
a new estimation, which can maximize the expectation, is chosen.
The EM methods will repeat the E-step and M-step until model parameters
converge~\cite{hastie2009elements}. Once the parameter $\hat{\mu_t}$ is
estimated, the aggregated power consumption can be computed using
Equation~\ref{eqn:sum} (the same as LRP methods).


\subsection{Tradeoffs}
\label{sec:tradeoff}
In both LRP and MRP methods, large random noises will provide strong
privacy protection for customers but result in inaccurate data
aggregation. Therefore, the tradeoff between the accuracy
of data aggregation and protection of customer privacy should be analyzed
in detail. In this section, we adopt Relative Accuracy (RA) to measure the
estimation accuracy of data aggregation, which is defined as follows:
\begin{equation}
\label{eqn:ra}
RA = 1 - \frac{|\sum_{i=1}^{n}r_{t}^{(i)} - \sum_{i=1}^{n}\hat{\mu_t}|}{\sum_{i=1}^{n}r_{t}^{(i)}}
\end{equation}
Then, the probability $\Pr[RA \ge \alpha;\Theta]\ge\beta$ is adopted to qualify
the robustness of RP based privacy-preserving smart metering schemes,
where $\Theta$ is the set of parameters that determine the value of
$RA$. In this criterion, $\alpha$ is a accuracy factor, and a larger value
indicates higher accuracy of data aggregation. $\beta$ is a robustness factor,
and a larger $\beta$ indicates more robust data aggregation.

\subsubsection{Tradeoff in LRP Methods}
For LRP methods, a larger variance $\sigma_{X}^2$ in the random noises can
provide stronger privacy protection, but result in lower accuracy of data
aggregation~\cite{bohli2010privacy}. Thus, $\sigma_{X}^2$ is the key
factor for LRP methods, i.e., $\Pr[RA \ge \alpha;\sigma_{X}^2]$ should be
computed to measure the robustness of data aggregation.

For any $0 \leq \alpha  \leq  1$, let $R = \{r_t^{(1)},\dots,r_t^{(n)}\}$ be the set of
meter readings and $X =\{x_t^{(1)},...,x_t^{(n)}\}$ be the set of random noises at time $t$,
the perturbed meter readings $d_t^{(i)} = r_t^{(i)}+x_t^{(i)}$. $\hat{\mu_t} = \bar{d_t} - \mu_X$
is the unbiased estimation of $\mu_t$ at time $t$, then
$\Pr[RA \ge \alpha;\sigma_{X}^2]$ can be computed as follows:

%Based on the definition of $RA$ (Equation~\ref{eqn:ra}), we have
\begin{displaymath}
\begin{array}{ll}
RA &= 1 - \frac{|\sum_{i=1}^{n}r_{t}^{(i)} - \sum_{i=1}^{n}\hat{\mu_t}|}{\sum_{i=1}^{n}r_{t}^{(i)}} \\
   &= 1 -  \sum_{i=1}^{n}|d_{t}^{(i)} - r_{t}^{(i)} - \mu_{X}| \left [\sum_{i=1}^{n}r_{t}^{(i)} \right ]^{-1} \\
   &= 1 -  \sum_{i=1}^{n}|x_{t}^{(i)} - \mu_{X}| \left [\sum_{i=1}^{n}r_{t}^{(i)} \right ]^{-1}\\
   &= 1 -  \sum_{i=1}^{n}|\bar{{X}} - \mu_{X}| \left [\sum_{i=1}^{n}\bar{{R}} \right ]^{-1} \\
   &= 1 - |\bar{{X}} - \mu_{X}| \left [ \bar{{R}} \right ]^{-1}
\end{array}
\end{displaymath}
Then, based on Central Limit Theorem, we know $\bar{X} - \mu_{X} \sim N(0, n^{-1}\sigma_{X}^2)$
and $\bar{R} \sim N(\mu_t, n^{-1}\sigma_{t}^2)$. Meanwhile, $\Pr[\bar{R} > 0] = 1$.
Thus, we have
\begin{displaymath}
\begin{array}{ll}
\Pr[RA \ge \alpha;\sigma_{X}^2] \\
= \Pr[ |\bar{X} - \mu_X| \left [ \bar{R} \right ]^{-1} \le (1-\alpha); \sigma_{X}^2 ] \\
= \Pr[  -(1-\alpha) \bar{R} \le \bar{X} - \mu_X \le (1-\alpha) \bar{R}; \sigma_{X}^2 ] \\
= \Pr[ \bar{X} - \mu_X - (1-\alpha) \bar{R} \le 0 ]\\
~~ -\Pr[ \bar{X} - \mu_X + (1-\alpha) \bar{R} \ge 0; \sigma_{X}^2]  \\
= \Phi(\frac{ \sqrt{n} (1-\alpha)\mu_t}{\sqrt{(1-\alpha)^2\sigma_t^2 + \sigma_X^2}})
-\Phi(\frac{ -\sqrt{n} (1-\alpha)\mu_t}{\sqrt{(1-\alpha)^2\sigma_t^2 + \sigma_X^2}}) \\
= 2*\Phi(\frac{ \sqrt{n} (1-\alpha)\mu_t}{\sqrt{(1-\alpha^2)\sigma_t^2 + \sigma_X^2}}) - 1
\end{array}
\end{displaymath}
where $\Phi(x) = \int_{-\infty}^{x} \frac{1}{\sqrt{2\pi}} e^{-\frac{t^2}{2}} \mathrm{d}t$
is the cumulative distribution function of Gaussian distribution.

If we fix $\Pr[RA \ge \alpha;\sigma_{X}^2] \ge \beta$ ($\beta$ is the robustness factor), i.e.,
$2*\Phi(\frac{ \sqrt{n} (1-\alpha)\mu_t}{\sqrt{(1-\alpha)^2\sigma_t^2 + \sigma_X^2}}) - 1\ge\beta$,
we have
\begin{equation}
\label{eqn:linearity_RA}
\sigma_{X}^2 \le  \left( \frac{\sqrt{n}(1-\alpha)\mu_t}{ \Phi^{-1}(2^{-1}(1+\beta)) } \right)^2 - (1-\alpha)^2\sigma_t^2
\end{equation}
From Equation~\ref{eqn:linearity_RA}, we know that
$\sigma_{X}^2$ is bounded by $\alpha$ and $\beta$, i.e., privacy protection
capability of random noises is bounded by $\alpha$ and $\beta$. Meanwhile,
the upper bound of $\sigma_{X}^2$ decreases as the accuracy factor $\alpha$ increases
or the robustness factor $\beta$ increases. This result indicates that the accuracy
and robustness of data aggregation have to be traded by privacy protection
capability in LRP methods.


\subsubsection{Tradeoff in MRP Methods}

MRP methods have been studied empirically by Wang~\etal~\cite{wang2012randomized},
who pointed out that the accuracy of data aggregation increases as
$\omega_0$ increases. This is intuitive, because larger $\omega_0$
means the randomly perturbed meter readings have larger probability
to be true meter readings. As a result, $\omega_0$ should be the key factor
to compute $\Pr[RA \ge \alpha;\omega_0]$ in MRP methods.


%\begin{comment}
For any $0 \leq \alpha  \leq  1$, let $R= \{r_t^{(1)},\dots,r_t^{(n)}\}$
be the set of all true meter readings, $D=\{d_t^{(1)},\dots,d_t^{(n)}\}$
be the set of all reported meter readings at time $t$. Therefore,
$V= \{R \cap D\} = \{v_t^{(1)},\dots,v_t^{(m)}\}$ is the set of true
meter readings among reported readings. Thus, we know, on utility provider
side, the optimal case is that $V$ can be separated from random noises
such that $\bar{V}$ is the unbiased estimation of $\mu_t$ for time $t$.
Note that $\Pr[RA \ge \alpha;\omega_0]$ is hard to be directly computed,
so we compute $\Pr[RA \ge \alpha;m]$ ($m=\omega_0n$) instead. Since $n$
is constant, we have $\Pr[RA \ge \alpha;m] = \Pr[RA \ge \alpha;\omega_0n] = \Pr[RA \ge \alpha;\omega_0]$.

Considering the complement set $X = \{R-V\}$, which denotes the true
meter readings that have not been collected by utility provider, we have
\begin{displaymath}
\begin{array}{ll}
RA &= 1 - \frac{|\sum_{i=1}^{n}\bar{R} - \sum_{i=1}^{n}\bar{V}|}{\sum_{i=1}^{n}\bar{R}}  \\
   &= 1 -  \frac{|m\bar{V} + (n-m)\bar{X} - n\bar{V}|}{m\bar{V} + (n-m)\bar{X}} \\
   &= 1 -  \frac{(n-m)|\bar{X} - \bar{V}|}{m\bar{V} + (n-m)\bar{X}}
\end{array}
\end{displaymath}
Based on Central Limit Theorem, we know $\bar{V} \sim N(\mu_t, m^{-1}\sigma_{t}^2)$ and
$\bar{X} \sim N(\mu_t, (n-m)^{-1}\sigma_{t}^2)$.
Since $\bar{X}$ and $\bar{V}$ are independent and $\Pr[\bar{R} \ge 0] = 1$,
then we have
\begin{displaymath}
\begin{array}{ll}
\Pr[RA \ge \alpha; m]\\
= \Pr[ \frac{(n-m)|\bar{X} - \bar{V}|}{m\bar{V} + (n-m)\bar{X}} \le 1-\alpha ] \\
= \Pr[ \alpha(n-m)\bar{X} - (n-\alpha m)\bar{V} \le 0 ] \\
- \Pr[ (2-\alpha)(n-m)\bar{X} - (n-(2-\alpha)m)\bar{V} \ge 0 ] \\
= \Phi(\frac{(1-\alpha) n \sqrt{m}\mu_t}{\sigma_t\sqrt{(2-\alpha)^2(n-m)m + (n-m -(1-\alpha)m)^2}}) \\
+ \Phi(\frac{(1-\alpha)n \sqrt{m}\mu_t}{\sigma_t\sqrt{\alpha^2(n-m)m + (n-m +(1-\alpha) m)^2}}) - 1 \\
= 2*\Phi(\frac{(1-\alpha)n \sqrt{m} \mu_t}{\sigma_t\sqrt{(n-m)^2 + (1+(1-\alpha)^2)(n-m)m + (1-\alpha)^2m^2}}) - 1
\end{array}
\end{displaymath}
Then, by replacing $m$ with $\omega_0n$, we have
\begin{displaymath}
\begin{array}{ll}
\Pr[RA \ge \alpha; \omega_{0}]
 &= \Pr[RA \ge \alpha; m = \omega_{0}n] \\
 &= 2*\Phi(\frac{(1-\alpha)\mu_t\sqrt{n\omega_0}}{\sigma_t\sqrt{\alpha(\alpha-2)\omega_0 + 1}}) - 1
\end{array}
\end{displaymath}
%\end{comment}
Again, if we fix $\Pr[RA \ge \alpha;\omega_0] \ge \beta$, we have
\begin{equation}
\label{eqn:mixture_RA}
\omega_0 \ge \frac{[\Phi^{-1}((2^{-1}(1+\beta))\sigma_t]^2}{(1-\alpha)^2\mu_t^2n +
\alpha(2-\alpha)[\Phi^{-1}((2^{-1}(1+\beta))\sigma_t]^2}
\end{equation}

From Equation~\ref{eqn:mixture_RA}, we know that $\omega_0$ must be
greater than a certain value determined by $\alpha$ and $\beta$, i.e.,
privacy protection capabilities of MRP methods are bounded by $\alpha$ and $\beta$.
Meanwhile, the lower bound of $\omega_0$ increases as the accuracy factor
$\alpha$ increases or the robustness factor $\beta$ increases, which
indicates that tradeoffs between between the accuracy of data aggregation and
protection of customer privacy have to be made by MRP methods.

\begin{comment}
In Equation~\ref{eqn:linearity_RA} and~\ref{eqn:mixture_RA},
it seems that the tradeoff can also be made by increasing
the number of smart meters --- $n$. However, it should be noted that
the total energy consumption also increases as $n$ increases,
which indicates that the absolute error between real energy consumption
and its estimation will increase proportionally. Therefore, a large $n$
must be combined with large $\alpha$ to keep the absolute error low.
Thus, only ensuring a large $n$ cannot solve the tradeoff problem.
\end{comment}


\subsection{A Case Study}
\label{sec:caseStudy}
From the above theoretical analysis, we know that tradeoff has to be made
between accuracy of data aggregation and protection of customer privacy in
RP-based privacy-preserving smart metering methods. Therefore, a question
may arise that whether customer privacy can be strictly protected while
the accuracy of data aggregation meets industrial standards.

Here, a case study is performed using the Reference Energy Disaggregation
Dataset (REDD)~\cite{kolter2011redd}, which consists of weeks of circuit-level
power data from 6 different homes. Since the aggregated consumption of
15 minutes~\cite{bohli2010privacy} has been adopted in many scenarios,
we re-sampled the data for every 15 minutes. And, six successive days' data
from House 3 (from 23rd to 28th, April, 2011) are chosen as test dataset.
We first simulate the results that the utility provider can see after applying
the aforementioned estimation methods when the customers adopt different
RP-based methods. Then, we try to guess activity patterns of customers
intuitively based on the estimation results. Then, these guesses are verified
by real appliance data.

In Figure~\ref{fig:mains},
we show the estimated mean power from 6:00 to 21:00 (sampled every 15 minutes)
during 6 days for three RP methods:
LRP method with normally distributed noise --- LRP(Normal),
LRP method with uniformly distributed noise --- LRP(Uniform),
and MRP method with Gaussian mixture noise --- MRP(GMM) ($\omega_0=0.6$).
In default, we set $\alpha = 99\%,\beta = 90\%$, which means the estimation
accuracy of data aggregation should be higher than 99\% in more than 90\% of time.
It should be noted that the setting of $\alpha$ and $\beta$ are not strict
at all, because smart meters should have accuracies higher than 99\% in real cases
(e.g., errors should be within $\pm0.2\%$ or $\pm0.5\%$ in ANSI C12.20~\cite{ansi}).

\begin{figure}[!tb]
  \centerline{\includegraphics[width=0.45\textwidth]{Figure/case/readings_perturbed.pdf}}
  \caption{Quarter-level mean power traces of House 3 for six days.}
 \label{fig:mains}
\end{figure}

\begin{figure}[!tb]
  \centerline{\includegraphics[width=0.45\textwidth]{Figure/case/microwave.pdf}}
  \caption{Quarter-level mean power trace of microwave in House 3 for six days.}
 \label{fig:microwave}
\end{figure}

\begin{figure}[!tb]
  \centerline{\includegraphics[width=0.45\textwidth]{Figure/case/kitchen.pdf}}
  \caption{Quarter-level mean power trace of kitchen outlets in House 3 for six days.}
  \label{fig:kitchen}
\end{figure}


As we can see from Figure~\ref{fig:mains}, there are two sharp peaks:
one is from 7:30 to 9:00, and the other is from 19:00 to 20:00.
Intuitively, we can guess that the householder should be cooking during
these periods. Moreover, we can infer that 1) the residents in House 3
get up at around 7:30 (the first peak of power consumption appears),
2) leave the house at around 10:00 (the first peak ends), and
3) come back home at around 18:00 (a small peak appears).
To verify the above assumptions, we check the real power consumption
data of related appliances, e.g., the power trace of microwave (in Figure~\ref{fig:microwave})
and the power trace of kitchen outlets (in Figure~\ref{fig:kitchen}).
Indeed, there are also two peaks in the power trace of microwave oven:
one is from 7:30 to 8:00 and the other is from 19:00 to 20:00,
which are in consistent with the above inference about cooking time.

In summary, the above case study demonstrates that it is possible to
infer household activities from the sparse and randomly perturbed
smart metering data, even without applying complex data mining techniques.
The case study also indicates that customer privacy are indeed revealed
when the accuracy of data aggregation meets industrial standard.



\section{Appliance Usage Inference Method}
\label{sec:model}
In this section, we propose a general method for inferring appliance
usage based on randomly perturbed smart metering data.
In the proposed method, Bayesian Network is adopted to combine the
mining results from randomly perturbed smart metering data and auxiliary
information (i.e., visibility, atmosphere temperature, weather conditions, etc.)
to achieve high inference accuracy.

\subsection{Bayesian Network Model}
\begin{figure*}
\centering
\includegraphics[width=0.8\textwidth]{Figure/model/GeneralModel.pdf}
\caption{Illustration of the appliance state inference method.}
\label{fig:GAM}
\end{figure*}

Bayesian Network (BN) is one of the most popular probabilistic graphical
model, which has been adopted in a variety of applications, such as
decision making, data mining, and knowledge discovery. Bayesian Network
can encode the probabilistic relationship among a set of random
variables $\mathbb{V}$ and a set of conditional
probability distributions $\mathbb{P}$ associated with each pair of
linked variables via a network structure --- $\mathbb{S}$. Therefore,
a Bayesian Network can be represented as a 3-tuple $BN = \{\mathbb{V}, \mathbb{S}, \mathbb{P}\}$.


The Bayesian network structure of the proposed appliance usage inference method
is illustrated in Figure~\ref{fig:GAM}. In this method, each appliance $ap$
has a set of operating states $\{st_1, st_2,...,st_o\}$, e.g., the
operating states of air conditioners can be ``on'' or ``off''. Let $S_{ap}$ be
the current operating state of appliance $ap$, then $S_{ap} = st_i$ means
that the current state of $ap$ is $st_i$. $P_w$ is the aggregated
power of all appliances in a given house, and $\mathbf{Z} = \{Z_1,Z_2,...,Z_j\}$ is the
set of auxiliary information. Based on the Bayesian network defined above,
operating states of an appliance can be inferred based on posterior probability
inference. For instance, given an
auxiliary information that the atmosphere temperature is over 35$^\circ$C,
and we observe that $P_w$ in house $H$ is larger than 1500kW. Then,
we can infer that the most probable reason for such observation ($P_w>1500$kW)
is that the air conditioner of house $H$ has been turned ``on''.


\subsection{Model Training}
After defining the structure of the inference model, all the probabilities
in the model should be trained using historical data.
For each $\Pr\{S_{ap} = st_i |Z_k\}$ and $\Pr\{P_w|S_{ap} = st_i\}$, we
compute these probabilities on the train data using Laplace Smoothing as
follows:
\begin{equation}
\Pr\{S_{ap} = st_i |Z_k\} = \frac{\sum{\mathbbm{1}(S_{ap}= st_i \& Z=Z_k)}+1}
{\sum{\mathbbm{1}(Z=Z_k)}+j}
\end{equation}
\begin{equation}
\Pr\{P_w|S_{ap} = st_i\} = \frac{\sum{\mathbbm{1}(P = P_w \& S_{ap} = st_i)}+1}
{\sum{\mathbbm{1}(S_{ap}=st_i)}+o}
\end{equation}
where $j$ is the number of auxiliary information and $o$ is the number of possible
operating states of appliance $ap$. $\mathbbm{1}(x)$ is an indication function,
in which $\mathbbm{1}(x)=1$ if $x$ is true and $\mathbbm{1}(x)=0$ otherwise.
By adopting Laplace Smoothing, the ``zero'' probability issue in Bayesian Network can be addressed.

\subsection{Probabilistic Inference}
After training an inference model, the last step is to perform appliance
operating state inference based on the model. Here, we achieve this by
computing the posterior probability distribution of all possible operating
states of an appliance. Then, the operating state with highest posterior
probability will be chosen as the inference result.

Given appliance $ap$, Bayes's rule~\cite{russell1995artificial} is adopted
to compute the posterior probability distribution of $S_{ap}$ based on
a set of evidence $E= \{P_w = p, Z_1=z_1, Z_2=z_2,...,Z_j=z_j\}$.
Then, the posterior probability $\Pr(S_{ap}=st|E)$ can be computed as follows:
\begin{equation}
\begin{split}
&\Pr(S_{ap}=st|E) \\
&= \Pr(st_i,p,z_1,...,z_j)/\Pr(E) \\
&= \Pr(p|st,z_1,...,z_j)\Pr(st_i,z_1,...,z_j)/\Pr(E) \nonumber
\end{split}
\end{equation}
Since $P_w = p$ is independent to auxiliary information $Z_1,...,Z_j$,
we have:
\begin{equation}
\begin{split}
&\Pr(S_{ap}=st|E) \\
&= \Pr(p|st)\Pr(st_i,z_1,...,z_j)/\Pr(E)\\
&= \Pr(p|st)\Pr(st|z_1,...,z_j)\Pr(z_1,...,z_j)/\Pr(E) \nonumber
\end{split}
\end{equation}
Assuming that $Z_1,...,Z_j$ are independent to each other, then we have:
\begin{equation}
\label{eqn:post_prob}
\begin{split}
& \Pr(S_{ap}=st|E) \\
& = \Pr(p|st)\prod_{i=1}^{j}\left( \Pr(st|z_i)\Pr(z_i) \right)/\Pr(E)
\end{split}
\end{equation}
In the above Equation~\ref{eqn:post_prob}, $\Pr(p|st)$, $\Pr(st|z_i)$,
$\Pr(z_i)$ and $\Pr(E)$ are all prior probabilities, which can be obtained
from the model training process.

Therefore, the inferred operating state of $ap$ can be chose as
the state with the highest posterior probability:
\begin{equation}
S_{ap} = \arg \max_{st} \Pr(S_{ap}=st|E)
\end{equation}

It should be noted that the assumption that auxiliary information
are independent to each other may not be true for all scenarios.
For instance, if a day is shinny, the humidity of air will be high
and air temperature will also be high. To remedy this, we can ignore
the auxiliary information which are highly correlated with other
information. For instance, we can only choose air temperature and
humidity of air in the above case and ignore the ``shinny'' information.
Since the inference accuracy of the proposed method can be high with only
a small number of auxiliary information (i.e., less than 10), it is not
complicated to analyze the dependencies among auxiliary information.

\section{Evaluation}
\label{sctn:Expmnt}
In this section, we evaluate the proposed appliance usage
inference method on one of the typical appliances --- air conditioner,
in which the method is denoted as $M_{AC}$ hereinafter.
It should be noted that the proposed inference method is applicable to
all kinds of appliances, the reason that we choose air conditioner is
because the data of air conditioner are the most complete in the dataset.
In the evaluation, the $M_{AC}$ method is applied
against two kinds of randomized perturbation methods --- Linear-model-based
randomized perturbation method (LRP)~\cite{bohli2010privacy} and
Mixture-model-based randomized perturbation method (MRP)~\cite{wang2012randomized}.


\subsection{Dataset Description and Evaluation Metrics}
\label{sectn:DataAndMe}
The $M_{AC}$ method is evaluated using the REDD dataset\cite{kolter2011redd},
which has been described in Section~\ref{sec:caseStudy}. In the evaluation,
the dataset is partitioned into a training set and a testing set. The training
set contains the metering data from house 1 in April 2011 and house 6 in May 2011.
And the testing set contains the rest of the data.

In general, air conditioners can be regarded as ``on-off'' appliances.
In this case, there are two kinds of errors when inferring the operating
state of an air conditioner:
\begin{itemize}
    \item Type I Error: infer that an air conditioner is ``on'', when the air conditioner is actually ``off''.
    \item Type II Error: infer that an air conditioner is ``off'', when the air conditioner is actually ``on''.
\end{itemize}
Thus, we adopt the probabilities of committing the type I error ($\Pr$[Type I error])
and type II error ($\Pr$[Type II error]) to analyze the inference accuracy of $M_{AC}$.
Besides, we define $f$ as the number of times that the operating state of an
appliance is correctly inferred, and $N$ as the total number of inferences.
Then, we adopt the Relative Accuracy (RA) measure to quantify the overall inference
accuracy of $M_{AC}$, which is defined as follows:
\begin{equation}
\label{eqn:rf}
RA = \frac{f}{N}
\end{equation}

\subsection{Definition of $M_{AC}$}

\begin{figure*}[!tb]
  \centerline{\includegraphics[width=0.8\textwidth]{Figure/model/Model_AC.pdf}}
  \caption{Description of the proposed $M_{AC}$ method.}
  \label{fig:proposed}
\end{figure*}

The usage of air conditioner is determined by weather conditions, especially
air temperature. To combine weather condition with the power data in the
$M_{AC}$ method, we make the following assumptions:
\begin{enumerate}[1.]
    \item \emph {If the air temperature is ``high'', then people will turn ``on'' the air conditioner.}
    \item \emph {If the air conditioner is turned ``on'', then the power of mains will ``increase'' substantially.}
\end{enumerate}
Based on the inference method proposed in Section~\ref{sec:model}, we can
easily define the network structure and train the parameters of $M_{AC}$.
The detailed structure and parameters of $M_{AC}$ are presented in Figure~\ref{fig:proposed},
which includes the network structure $\mathbb{S}_{AC}$ and the
conditional probability distribution $\mathbb{P}_{AC}$.

It should be noted that true meter readings are collected by utility provider
with probability of $\omega_0$ in MRP method, so that noise meter readings
are collected with probability of $1 - \omega_0$. The noise meter ratings
will hurt the inference accuracy of $M_{AC}$, so we replace the collected data
$\dot{p}$ with the average power of the customer $\bar{p}$ if we find that
$\dot{p}$ converges to the noise distributions during the EM process.
The detailed average power data is showed in Figure~\ref{fig:AVG_Power}.

\subsection{Evaluation Results}

\begin{figure*}[!tb]
\begin{minipage}{.48\linewidth}
  \centerline{\includegraphics[width=1\textwidth]{Figure/Readings.pdf}}
  \caption{Average power consumption in 15-min interval for individual customer.}
  \label{fig:AVG_Power}
\end{minipage}
\hfill
\begin{minipage}{.48\linewidth}
  \centerline{\includegraphics[width=1\textwidth]{Figure/Accuracy.pdf}}
  \caption{Number of smart meters vs. RA.}
  \label{fig:RF_key}
\end{minipage}
\vfill
\begin{minipage}{.48\linewidth}
  \centerline{\includegraphics[width=1\textwidth]{Figure/Alpha.pdf}}
  \caption{Accuracy factor ($\alpha$) vs. RA.}
  \label{fig:RF_alpha}
\end{minipage}
\hfill
\begin{minipage}{.48\linewidth}
  \centerline{\includegraphics[width=1\textwidth]{Figure/Beta.pdf}}
  \caption{Robustness factor ($\beta$) vs. RA.}
  \label{fig:RF_beta}
\end{minipage}
\end{figure*}


\begin{table*}
\centering
%\footnotesize
\begin{tabular}{| c | c | c | c | c | c | c |}
\hline
                & $n=10^2$   & $n=10^3$    &  $n=10^4$   & $n=10^5$   & $n=10^6$   \\
\hline
$\Pr$[Type I error]         & 0.455\%   & 0.457\%    &  0.482\%   & 0.642\%    & 7.144\%    \\
\hline
$\Pr$[Type II error]        & 0.758\%   &  0.756\%   &  0.750\%   & 0.754\%    & 0.843\%   \\
\hline
\end{tabular}
\caption{Probability of committing the type I or II error vs. n (the number of smart meters) in LRP method.}
\label{tb:RE_Uniform}
\end{table*}

\begin{comment}
\begin{table}
\centering
%\footnotesize
\begin{tabular}{| c | c | c | c | c | c | c |}
\hline
                & $n=10^2$   & $n=10^3$    &  $n=10^4$   & $n=10^5$   & $n=10^6$   \\
\hline
Type I          & 0.004550   & 0.004568    &  0.004814   & 0.006617   & 0.068892    \\
\hline
Type II         & 0.007583   & 0.007562    &  0.007500   & 0.007553   & 0.008409   \\
\hline
\end{tabular}
\caption{Probability of committing the type I or II error vs the number of residents for Normal.}
\label{tb:RE_Normal}
\end{table}
\end{comment}
\begin{table*}
\centering
%\footnotesize
\begin{tabular}{| c | c | c | c | c | c | c | c | c | }
\hline
                & $n=10^2$   & $n=10^3$    &  $n=10^4$   & $n=10^5$   & $n=10^6$   \\
\hline
$\Pr$[Type I error]         &  0.406\%  & 0.412\%    &  0.424\%   & 1.573\%   & 3.039\%   \\
\hline
$\Pr$[Type II error]        &  0.758\%  & 0.884\%    &  1.086\%   & 1.454\%   & 1.615\%   \\
\hline
\end{tabular}
\caption{Probability of committing the type I or II error vs. n (the number of smart meters) in MRP method.}
\label{tb:RE_Gmm}
\end{table*}

\subsubsection{Impact of the Number of Smart Meters}
In this experiment, we analyze the impact of $n$ --- the number of smart meters
on the performance of the proposed inference method, in which we set $\alpha = 0.99, \beta = 0.9$.
Table~\ref{tb:RE_Uniform} shows the result of $\Pr$[Type I Error] and
$\Pr$[Type II Error] for LRP method (noises are chosen from Uniform distribution).
It can be seen that the probabilities of inference errors increase as $n$ increases.
In particular, the probability of Type I Error increases largely when $n$ varies
from $10^5$ to $10^6$.
%%  =========================================================
This is because the range of random noises largely increases when $n = 10^6$,
which leads to the significant rise of probability that the estimated power exceeds
800 W when the actual power is below 800 W. However, this kind of phenomenon
will not have large impacts on Type II Error, because the estimated power is
not likely to be less than 800 W when the air conditioner is turned on
(the powers are mostly over 1000 W). Thus, the probability of Type II Errors
does not increase much when $n$ increases.
%%  =========================================================
Table~\ref{tb:RE_Gmm} shows the probabilities of both two types of errors
for MRP method. For MRP methods, $\Pr$[Type I Error] and $\Pr$[Type II Error]
of $M_{AC}$ increase slightly when $n$ varies from $10^2$ to $10^6$, which is
because the estimated power is much accurate using EM method.

In addition, we also study the inference accuracy of $M_{AC}$ in terms of
Relative Accuracy (RA) with regard to $n$. As shown in Figure~\ref{fig:RF_key},
the proposed method can correctly identify the appliance state with
accuracies between 92\% and 99\% for LRP methods, and between 95\%
and 99\% for MRP methods when $n$ varies from $10^2$ to $10^6$.
As discussed in Section~\ref{sec:tradeoff}, larger $n$ can provider
better privacy protection for customers, which means customer privacy
are harder to derive as $n$ increases, i.e., RA values of the $M_{AC}$
method will drop as $n$ increases.
\begin{comment}
Besides, we can see RF of MRP method is
lower than that of LRP method when $n \le 10^5$.
It implies
the required number of smart meters
in LRP methods is more than
that in MRP methods to obtain the same privacy protection.
\end{comment}

\subsubsection{Impact of Accuracy Factor --- $\alpha$}
As defined in Section~\ref{sec:tradeoff}, $\alpha$ is the key
factor which determines the accuracy of data aggregation based on
randomized smart metering data for utility providers. A larger $\alpha$
indicates that the utility provider can obtain more accurate data
aggregation results, but customer privacy may be revealed with
higher probability. To evaluate the impact of $\alpha$, we fix $n=10^4$
and $\beta = 0.9$ in the experiment.

Figure~\ref{fig:RF_alpha} shows the RA values when $\alpha$ varies from
$0.90$ to $0.99$. As we can see, the RA values increase when $\alpha$ increases,
which means the $M_{AC}$ method can more accurately infer customer privacy
when $\alpha$ increases. In the results, the increase of RA value slows down
as $\alpha$ increases for LRP method, but the increase of RA value speeds up
as $\alpha$ increases for MRP method. We analyze the reasons behind these
phenomenons based on Equation~\ref{eqn:linearity_RA} and~\ref{eqn:mixture_RA}.
\begin{comment}
For LRP methods, the first-order partial derivative $\frac{\partial\sigma^2}{\partial\alpha}$
is negative and the second-order partial derivative $\frac{\partial^2 \sigma^2}{\partial \alpha^2}$
is positive, which means that $\sigma^2$ increases at descending rate as
$\alpha$ increases.
\end{comment}
In LRP method, the ranges of random noises decrease in descending speed as
$\alpha$ increases, which causes the corresponding increase of the estimation
accuracy of mean power to be in descending speed. In such case, the inference
accuracy (RA) also increases in descending speed as $\alpha$ increases.
For MRP methods, if $\omega_0$ increases linearly, $\alpha$ will not increases
linearly because noise meter readings are of larger mean values than true meter
reading. Thus, $\omega_0$ should increase in ascending speed as $\alpha$
increases linearly. Hence, it is obvious that the estimation accuracy of mean
power increases correspondingly, which result in that inference accuracy (RA)
also increases in ascending speed as $\alpha$ increases for MRP methods.

\subsubsection{Impact of Robustness Factor --- $\beta$}
As defined in Section~\ref{sec:tradeoff}, $\beta$ is the key
factor which determines the robustness of data aggregation based on
randomized smart metering data for utility providers. A larger $\beta$
indicates that data aggregation by utility provider will more likely
to be accurate, but customer privacy may also be revealed with
higher probability. To evaluate the impact of $\beta$, we fix $n=10^4$
and $\alpha=0.99$ in the experiment.

Figure~\ref{fig:RF_beta} shows the RA values when $\beta$ increases
from $0.1$ to $0.9$. As we can see from the results, the RA values
increase when $\beta$ increases, which means the $M_{AC}$ method can
more accurately infer customer privacy when $\beta$ increases.
It should be noted that both Equation~\ref{eqn:linearity_RA} and~\ref{eqn:mixture_RA}
are reciprocal function corresponding to $ \Phi^{-1}(2^{-1}(1+\beta))^2$.
Thus, the privacy protection capabilities decrease in descending speed
for both LRP and MRP methods. But the RA values for MRP methods do not
follow the above trend when $\beta\le 0.3$. This is because the event that
no actual meter readings are collected in 4 readings during one hour
frequently occurs when $\beta \le 0.3$. As mentioned earlier, the average
powers are adopted to handle this situation, and such extra information
can substantially enhance the inference accuracy. Thus, the RA values
are still high when $\beta \le 0.3$.

Overall, the above experiments demonstrate that the proposed appliance
usage inference method can effectively identify the operating
states of air conditioners based on randomly perturbed smart metering
data. Meanwhile, the inference accuracies are similar for both LRP and
MRP methods, which means that the proposed inference can consistently
infer customer privacy against different kinds of randomized perturbation
based privacy-preserving smart metering methods.
%Furthermore, these results also implies that the proposed method is
%capable to recognize the appliances' operation.


\section{Conclusion}
\label{sctn:cnclusn}
Privacy issue has been one of the main challenges in smart metering during
recent years. Randomized perturbation based privacy-preserving smart
metering methods, which can randomly perturb true meter readings to
protect customer privacy, have been proposed recently.
However, we find that randomly perturbed smart metering data
cannot strictly protect customer privacy as have been believed.
In this paper, we analyze the privacy protection capability of RP-based
privacy-preserving smart metering methods by both theoretical analysis and
empirical studies. An appliance usage inference method is proposed to infer customer privacy
from randomly perturbed smart metering data. Evaluation results on real-world
smart metering data demonstrate that customer privacy can be accurately inferred
using the proposed inference method.


\bibliographystyle{IEEEtran}
\bibliography{reference}

\end{document}
%%
%% End of file `elsarticle-template-harv.tex'.
